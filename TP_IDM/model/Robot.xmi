<?xml version="1.0" encoding="UTF-8"?>
<tP_IDM:Robot
    xmi:version="2.0"
    xmlns:xmi="http://www.omg.org/XMI"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:tP_IDM="http://www.example.org/tP_IDM"
    xsi:schemaLocation="http://www.example.org/tP_IDM tP_IDM.ecore">
  <instruction
      xsi:type="tP_IDM:DefFonction"
      libelle="entry">
    <bloc xsi:type="tP_IDM:SetSpeed"
        vitesse="150.0">
      <metrique
          xsi:type="tP_IDM:Millimeter"/>
    </bloc>
    <bloc xsi:type="tP_IDM:DefVariable"
        libelle="count">
      <valeur
          xsi:type="tP_IDM:Constante"/>
    </bloc>
    <bloc xsi:type="tP_IDM:Loop">
      <bloc
          xsi:type="tP_IDM:DefVariable"
          libelle="count">
        <valeur
            xsi:type="tP_IDM:Add">
          <x
              xsi:type="tP_IDM:ConsultVariable"
              defvariable="//@instruction.0/@bloc.2/@bloc.0"/>
          <y
              xsi:type="tP_IDM:Constante"
              value="1.0"/>
        </valeur>
      </bloc>
      <bloc
          xsi:type="tP_IDM:CallFonction"
          s="//@instruction.1"/>
      <conditionArret
          xsi:type="tP_IDM:LessThan">
        <x xsi:type="tP_IDM:ConsultVariable"
            defvariable="//@instruction.0/@bloc.1"/>
        <y xsi:type="tP_IDM:Constante"
            value="5.0"/>
      </conditionArret>
    </bloc>
  </instruction>
  <instruction
      xsi:type="tP_IDM:DefFonction"
      libelle="square">
    <bloc xsi:type="tP_IDM:Movement"
        distance="30.0">
      <metrique
          xsi:type="tP_IDM:Centimeter"/>
    </bloc>
    <bloc xsi:type="tP_IDM:Rotation"
        degre="90.0"/>
    <bloc xsi:type="tP_IDM:Movement"
        distance="300.0">
      <metrique
          xsi:type="tP_IDM:Millimeter"/>
    </bloc>
  </instruction>
</tP_IDM:Robot>
